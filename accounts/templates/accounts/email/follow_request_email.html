{% extends "accounts/base/base_email.html" %}

{% block email_title %}New Follow Request - Homey Platform{% endblock %}

{% block preheader %}{{ requester.display_name|default:requester.user.username }} wants to follow you on Homey{% endblock %}

{% block header_content %}
    <h1 style="color: #ffffff; font-size: 24px; font-weight: 600; margin: 20px 0 0 0;">
        New Follow Request
    </h1>
{% endblock %}

{% block email_heading %}Hello {{ recipient.user.username }}!{% endblock %}

{% block content %}
    <p style="color: #555555; font-size: 16px; margin: 0 0 20px 0; line-height: 1.6;">
        You have received a new follow request on <strong>Homey Platform</strong>!
    </p>

    <!-- Follower Information -->
    <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="margin: 30px 0;">
        <tr>
            <td style="background-color: #f8f9fa; border-radius: 8px; padding: 20px; border: 1px solid #e9ecef;">
                <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
                    <tr>
                        <td style="width: 70px; vertical-align: top;">
                            {% if requester.profile_picture %}
                                <img src="{{ requester.profile_picture.url }}"
                                     alt="{{ requester.user.username }}"
                                     style="width: 50px; height: 50px; border-radius: 25px; display: block;" />
                            {% else %}
                                <div style="width: 50px; height: 50px; border-radius: 25px; background: linear-gradient(135deg, #6372ff 0%, #5ca9fb 100%); color: #ffffff; display: flex; align-items: center; justify-content: center; font-size: 20px; font-weight: 600;">
                                    {{ requester.user.username|first|upper }}
                                </div>
                            {% endif %}
                        </td>
                        <td style="vertical-align: top; padding-left: 15px;">
                            <h3 style="margin: 0 0 5px 0; color: #333333; font-size: 18px; font-weight: 600;">
                                {{ requester.display_name|default:requester.user.username }}
                            </h3>
                            <p style="margin: 0 0 10px 0; color: #6c757d; font-size: 14px;">
                                @{{ requester.user.username }}
                            </p>
                            {% if requester.bio %}
                                <p style="margin: 0; color: #555555; font-size: 14px; line-height: 1.4;">
                                    {{ requester.bio|truncatechars:100 }}
                                </p>
                            {% endif %}
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>

    <p style="color: #555555; font-size: 16px; margin: 0 0 30px 0; line-height: 1.6;">
        Since your profile is private, you can choose to accept or decline this follow request.
    </p>

    <!-- Action Buttons -->
    <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="margin: 30px 0;">
        <tr>
            <td style="text-align: center;">
                <!-- Accept Button -->
                {% include "accounts/components/button.html" with url=accept_url text="Accept Request" type="success" padding="5px 10px" %}

                <!-- Decline Button -->
                {% include "accounts/components/button.html" with url=decline_url text="Decline Request" type="danger" padding="5px 10px" %}

                <!-- View Profile Button -->
                {% include "accounts/components/button.html" with url=profile_url text="View Profile" type="secondary" padding="15px 0 0 0" %}
            </td>
        </tr>
    </table>

    <p style="color: #6c757d; font-size: 14px; margin: 30px 0 20px 0; line-height: 1.4;">
        You can also manage this request by logging into your Homey account and visiting your notifications.
    </p>

    <p style="color: #555555; font-size: 16px; margin: 0; line-height: 1.6;">
        If you did not expect this request, you can safely ignore this email.
    </p>
{% endblock %}

{% block footer_text %}
    This follow request notification was sent because someone requested to follow your private account.
{% endblock %}
