# Equipment Database Social Platform Environment Configuration
# Copy this file to .env and update with your actual values

# Development/Production mode
DEBUG=True

# Django secret key (generate a new one for production)
# Recommended security settings (adjust for your deployment)
# Set SECRET_KEY to a long random value in production (keep private)
# Example: SECRET_KEY=replace_with_a_secure_random_string
SECRET_KEY=your-secret-key-here-change-in-production

# When deploying with HTTPS set these to secure values
# Redirect HTTP to HTTPS
SECURE_SSL_REDIRECT=False
# HSTS: seconds to instruct browsers to use HTTPS (set >0 in production)
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=False
SECURE_HSTS_PRELOAD=False
# X-Frame-Options: DENY|SAMEORIGIN or ALLOW-FROM <uri>
X_FRAME_OPTIONS=SAMEORIGIN
# Cookies should be secure in production
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False

# Django admin
CREATE_SUPERUSER_ON_BUILD=1
DJANGO_SUPERUSER_USERNAME=admin
DJANGO_SUPERUSER_EMAIL=admin@example.com
DJANGO_SUPERUSER_PASSWORD=
# optional â€” will reset password if user exists
DJANGO_SUPERUSER_FORCE_RESET=1

# Allowed hosts (comma-separated)
ALLOWED_HOSTS=localhost,127.0.0.1,testserver,backend

# Domain Configuration
DOMAIN_URL='http://localhost:8000'

# MySQL Database Configuration (using PyMySQL driver)
# Format: mysql://username:password@host:port/database_name
DATABASE_URL=mysql://loc_user:your_password@localhost:3306/citinfos_backend

# Alternative MySQL configuration (if DATABASE_URL doesn't work)
MYSQL_DATABASE=citinfos_backend
MYSQL_USER=loc_user
MYSQL_PASSWORD=your_password
MYSQL_HOST=db
MYSQL_PORT=3306
MYSQL_ROOT_PASSWORD=your_root_password_here

# Redis Configuration (for Celery background tasks)
REDIS_URL=redis://redis:6379/0
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
USE_REDIS_SESSIONS=True
SESSION_DURATION_HOURS=4

# Persistent session duration for "remember me" functionality (in days)
PERSISTENT_SESSION_DURATION_DAYS=30

# JWT Token Configuration (strict security mode)
# Access tokens: short-lived for security
JWT_ACCESS_TOKEN_LIFETIME_MINUTES=5
# Refresh tokens: balance between security and user experience
JWT_REFRESH_TOKEN_LIFETIME_DAYS=1
# Sliding tokens: match access token lifetime for consistency
JWT_SLIDING_TOKEN_LIFETIME_MINUTES=5
JWT_SLIDING_TOKEN_REFRESH_LIFETIME_DAYS=1

# AI Conversation System Configuration
# OpenAI API Configuration
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_ORG_ID=your_openai_org_id_here

# Anthropic API Configuration
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Google AI API Configuration
GOOGLE_AI_API_KEY=your_google_ai_api_key_here

# AI System Settings
AI_DEFAULT_MODEL=gpt-3.5-turbo
AI_MAX_TOKENS=4096
AI_TEMPERATURE=0.7
AI_ENABLE_STREAMING=True
AI_ENABLE_FUNCTION_CALLING=True
AI_ENABLE_VISION=False

# AI Cost Management
AI_DAILY_COST_LIMIT=10.00
AI_USER_DAILY_LIMIT=100
AI_ENABLE_COST_TRACKING=True

# AI Content Moderation
AI_ENABLE_CONTENT_FILTER=True
AI_FILTER_LEVEL=moderate

# Email Configuration (optional)
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
EMAIL_HOST=
EMAIL_PORT=
EMAIL_USE_TLS=
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=
EMAIL_USE_SSL=
DEFAULT_FROM_EMAIL=

# Media and Static Files (for production)
MEDIA_URL=/media/
STATIC_URL=/static/
MEDIA_ROOT=media
STATIC_ROOT=staticfiles


# AWS S3 Configuration (optional for production)
USE_S3=False
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_STORAGE_BUCKET_NAME=
AWS_S3_REGION_NAME=us-east-1

# Security Settings (for production)
SECURE_SSL_REDIRECT=False
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=False
SECURE_HSTS_PRELOAD=False
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_BROWSER_XSS_FILTER=True
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False

# React Frontend Configuration
REACT_APP_API_URL=http://localhost:8000/api
REACT_APP_SERVER_URL=http://localhost:8000
FRONTEND_DOMAIN=http://localhost:3000


# enable clean migrations
START_CLEAN_MIG=true

# Timeout for email verification codes in minutes
VERIFICATION_CODE_TIMEOUT_MINUTES=5

# Verification code validity period in days
VERIFICATION_VALID_DAYS=7

REMEMBER_ME_DAYS=30
SESSION_TOKEN_HASH_ALGO='sha256'

# ==============================
# Badge Threshold Configuration
# ==============================
EARLY_ADOPTER_MAX_INDEX=1000
BADGE_POSTS_BRONZE=10
BADGE_POSTS_SILVER=50
BADGE_POSTS_GOLD=200
BADGE_POLLS_CREATED_BRONZE=5
BADGE_POLLS_CREATED_SILVER=25
BADGE_POLLS_CREATED_GOLD=100
BADGE_POLL_VOTES_BRONZE=20
BADGE_POLL_VOTES_SILVER=100
BADGE_POLL_VOTES_GOLD=500
BADGE_LIKES_GIVEN_BRONZE=50
BADGE_LIKES_GIVEN_SILVER=250
BADGE_LIKES_GIVEN_GOLD=1000
BADGE_COMMENTS_MADE_BRONZE=20
BADGE_COMMENTS_MADE_SILVER=100
BADGE_COMMENTS_MADE_GOLD=400
BADGE_REPOSTS_BRONZE=5
BADGE_REPOSTS_SILVER=25
BADGE_REPOSTS_GOLD=100
BADGE_SHARES_SENT_BRONZE=5
BADGE_SHARES_SENT_SILVER=30
BADGE_SHARES_SENT_GOLD=120
BADGE_SHARES_RECEIVED_BRONZE=5
BADGE_SHARES_RECEIVED_SILVER=30
BADGE_SHARES_RECEIVED_GOLD=120
BADGE_EQUIPMENT_ADDED_BRONZE=3
BADGE_EQUIPMENT_ADDED_SILVER=15
BADGE_EQUIPMENT_ADDED_GOLD=60
BADGE_BEST_COMMENTS_BRONZE=1
BADGE_BEST_COMMENTS_SILVER=5
BADGE_BEST_COMMENTS_GOLD=20
BADGE_COMMUNITIES_JOINED_BRONZE=3
BADGE_COMMUNITIES_JOINED_SILVER=10
BADGE_COMMUNITIES_JOINED_GOLD=25
BADGE_FOLLOWER_COUNT_BRONZE=50
BADGE_FOLLOWER_COUNT_SILVER=250
BADGE_FOLLOWER_COUNT_GOLD=1000
BADGE_FOLLOWING_COUNT_BRONZE=25
BADGE_FOLLOWING_COUNT_SILVER=100
BADGE_FOLLOWING_COUNT_GOLD=300
BADGE_ENGAGEMENT_SCORE_BRONZE=0.25
BADGE_ENGAGEMENT_SCORE_SILVER=0.50
BADGE_ENGAGEMENT_SCORE_GOLD=0.75
BADGE_CONTENT_QUALITY_SCORE_BRONZE=0.20
BADGE_CONTENT_QUALITY_SCORE_SILVER=0.45
BADGE_CONTENT_QUALITY_SCORE_GOLD=0.70
BADGE_INTERACTION_FREQUENCY_BRONZE=0.20
BADGE_INTERACTION_FREQUENCY_SILVER=0.50
BADGE_INTERACTION_FREQUENCY_GOLD=0.80

# Content Moderation Settings:
COVER_VIDEO_MAX_DURATION_SECONDS=60

# 5 MB for images
PROFILE_COVER_IMAGE_MAX_BYTES=5242880
# 15 MB for videos
PROFILE_COVER_VIDEO_MAX_BYTES=15728640
