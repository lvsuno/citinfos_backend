# Emoji Reaction System - UI Guide

## Visual Changes

### Before (Like/Dislike System)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ Username                             â”‚
â”‚ This is a post content...               â”‚
â”‚                                         â”‚
â”‚ ğŸ‘ 15   ğŸ‘ 2   ğŸ’¬ 8   ğŸ”— 3   ğŸ” 1      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### After (Emoji Reaction System)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ Username                             â”‚
â”‚ This is a post content...               â”‚
â”‚                                         â”‚
â”‚ â‹¯ 15   ğŸ’¬ 8   ğŸ”— 3   ğŸ” 1              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**When user reacts:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ Username                             â”‚
â”‚ This is a post content...               â”‚
â”‚                                         â”‚
â”‚ â¤ï¸ 15   ğŸ’¬ 8   ğŸ”— 3   ğŸ” 1             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Reaction Picker UI

### Picker Appearance (Click three dots)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ˜Š Positive | ğŸ˜” Negative | ğŸ¤· Neutral      âœ• â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ ğŸ‘  â”‚ â”‚ â¤ï¸  â”‚ â”‚ ğŸ¤—  â”‚ â”‚ ğŸ˜‚  â”‚ â”‚ ğŸ˜®  â”‚    â”‚
â”‚ â”‚Like â”‚ â”‚Love â”‚ â”‚Care â”‚ â”‚Haha â”‚ â”‚ Wow â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ ğŸ‰  â”‚ â”‚ ğŸ‘  â”‚ â”‚ ğŸ”¥  â”‚ â”‚ â­  â”‚ â”‚ ğŸ¥³  â”‚    â”‚
â”‚ â”‚ Yay â”‚ â”‚Clap â”‚ â”‚Fire â”‚ â”‚Star â”‚ â”‚Partyâ”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”            â”‚
â”‚ â”‚ ğŸ˜  â”‚ â”‚ ğŸ™  â”‚ â”‚ ğŸ’ª  â”‚ â”‚ ğŸŠ  â”‚            â”‚
â”‚ â”‚Heartâ”‚ â”‚Pray â”‚ â”‚Strongâ”‚Celebrate           â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        [ Remove Reaction ]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Negative Tab
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ˜Š Positive | ğŸ˜” Negative | ğŸ¤· Neutral      âœ• â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”            â”‚
â”‚ â”‚ ğŸ˜¢  â”‚ â”‚ ğŸ˜   â”‚ â”‚ ğŸ˜Ÿ  â”‚ â”‚ ğŸ˜  â”‚            â”‚
â”‚ â”‚ Sad â”‚ â”‚Angryâ”‚Worriedâ”‚Disappointed          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Neutral Tab
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ˜Š Positive | ğŸ˜” Negative | ğŸ¤· Neutral      âœ• â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”            â”‚
â”‚ â”‚ ğŸ¤”  â”‚ â”‚ ğŸ§  â”‚ â”‚ ğŸ˜²  â”‚ â”‚ ğŸ˜•  â”‚            â”‚
â”‚ â”‚Thinkâ”‚Curiousâ”‚Shock â”‚Confused              â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Interaction Flow

### 1. User sees three-dot button
```
â‹¯ 15
```

### 2. User clicks â†’ Picker opens
```
â‹¯ 15  â† Click here
  â†“
  ğŸ“‹ Picker appears
```

### 3. User selects emoji (e.g., Love)
```
Picker: â¤ï¸ (highlighted with indigo ring)
         â†“
      API call
         â†“
    Button updates
```

### 4. Button shows selected emoji
```
â¤ï¸ 16  (count incremented)
```

### 5. User clicks again â†’ Can change or remove
```
â¤ï¸ 16  â† Click again
  â†“
  ğŸ“‹ Picker opens (Love is selected)

Options:
- Click ğŸ˜‚ â†’ Changes to Haha
- Click â¤ï¸ again â†’ Removes reaction
- Click "Remove Reaction" â†’ Removes reaction
```

## Comment Reactions

### Before
```
  ğŸ’¬ @username
     Comment text here
     [Edit] [Delete] [Reply] ğŸ‘ 5 ğŸ‘ 1
```

### After
```
  ğŸ’¬ @username
     Comment text here
     [Edit] [Delete] [Reply] â‹¯ 5
```

### When reacted
```
  ğŸ’¬ @username
     Comment text here
     [Edit] [Delete] [Reply] ğŸ”¥ 5
```

## Color Coding

### Reaction States
- **Not reacted:** Gray three-dot icon + gray count
- **Reacted:** Emoji + indigo count `text-indigo-600`
- **Hover:** Button scales to 110%
- **Active (click):** Button scales to 95%

### Picker States
- **Not selected:** Light gray background `bg-gray-50`
- **Selected:** Indigo background `bg-indigo-100` + ring `ring-2 ring-indigo-500`
- **Hover:** Light indigo `bg-indigo-50` + scale 110%

## Responsive Design

### Desktop (Full Size)
- Picker width: 320px (w-80)
- Grid: 5 columns
- Emoji size: text-2xl
- Label size: text-[9px]

### Mobile (Auto-adjusts)
- Picker width: 80vw (max 320px)
- Grid: Still 5 columns (scrollable if needed)
- Touch-friendly buttons: min 44x44px

## Accessibility

### Keyboard Support
- **Escape:** Close picker
- **Tab:** Navigate through reactions
- **Enter/Space:** Select reaction
- **Arrow keys:** Navigate grid (future enhancement)

### Screen Readers
- All buttons have `aria-label`
- Picker has `role="dialog"`
- Current reaction announced
- Count updates announced

## Animation Timing

### Picker Appearance
- **Duration:** 200ms
- **Effect:** Fade-in + slide-in from bottom
- **Easing:** ease-out

### Button Hover
- **Duration:** 150ms
- **Effect:** Scale + color change
- **Easing:** ease-in-out

### Selection Feedback
- **Duration:** 100ms
- **Effect:** Scale down (active state)
- **Easing:** ease-in-out

## Technical Classes

### Three-Dot Button
```jsx
className="flex items-center gap-1"
```
- Not reacted: `text-gray-600`
- Reacted: `text-indigo-600`
- Hover: `hover:text-indigo-600`

### Emoji Display
```jsx
reactionEmoji ? (
  <span className="text-lg">{reactionEmoji}</span>
) : (
  <EllipsisHorizontalIcon className="h-5 w-5" />
)
```

### Reaction Picker
```jsx
className="bg-white rounded-lg shadow-xl border border-gray-200 w-80"
```

### Tab Buttons
```jsx
// Active tab
className="bg-white text-indigo-600 border-b-2 border-indigo-600"

// Inactive tab
className="bg-gray-100 text-gray-600 hover:bg-gray-200"
```

### Reaction Buttons in Picker
```jsx
// Not selected
className="flex flex-col items-center gap-1 p-2 rounded-lg bg-gray-50 hover:bg-indigo-50 hover:scale-110 active:scale-95"

// Selected
className="flex flex-col items-center gap-1 p-2 rounded-lg bg-indigo-100 ring-2 ring-indigo-500 hover:scale-110 active:scale-95"
```

## API Response Example

### React to Post
```json
// POST /content/posts/{id}/react/
// Body: { "reaction_type": "love" }

{
  "message": "Reacted with love",
  "post": {
    "id": "abc123",
    "user_reaction": "love",
    "likes_count": 16,
    "dislikes_count": 2,
    "comments_count": 8,
    ...
  }
}
```

### Unreact from Post
```json
// POST /content/posts/{id}/unreact/

{
  "message": "Reaction removed",
  "post": {
    "id": "abc123",
    "user_reaction": null,
    "likes_count": 15,
    "dislikes_count": 2,
    "comments_count": 8,
    ...
  }
}
```

## Usage Examples

### Basic Usage
```jsx
import ReactionPicker, { getReactionEmoji } from './ReactionPicker';

// In your component
const [showPicker, setShowPicker] = useState(false);
const currentReaction = post.user_reaction; // 'love', 'haha', etc.

<button onClick={() => setShowPicker(true)}>
  {currentReaction ? (
    <span>{getReactionEmoji(currentReaction)}</span>
  ) : (
    <EllipsisHorizontalIcon />
  )}
</button>

{showPicker && (
  <ReactionPicker
    onReact={(type) => handleReact(type)}
    onClose={() => setShowPicker(false)}
    currentReaction={currentReaction}
  />
)}
```

### With Position
```jsx
const [position, setPosition] = useState({ top: 0, left: 0 });

const handleClick = (e) => {
  const rect = e.currentTarget.getBoundingClientRect();
  setPosition({
    top: rect.bottom + 4 + window.scrollY,
    left: rect.left + window.scrollX
  });
  setShowPicker(true);
};

<ReactionPicker
  position={position}
  // ... other props
/>
```

---

## Summary

âœ… **Clean, modern UI** with three-dot button
âœ… **22 emoji reactions** organized by sentiment
âœ… **Smooth animations** and transitions
âœ… **Mobile-friendly** touch targets
âœ… **Accessible** keyboard navigation
âœ… **Professional look** matches modern social platforms

The new system is more expressive while maintaining simplicity! ğŸ‰
